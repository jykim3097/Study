### 210330

## 첫 DB 만들기 in SqlDeveloper
* 실제로 접속할 곳 : PDB : 실제 사용하는 DB
* 왼쪽 위의 초록색+ 누르면 새로운 DB 생성
* Name 필드에는 database 이름(한글도 가능)
* 사용자 정보에는 내 정보
	* 최고 관리자 sys : 모든 걸 할 수 있는 권한을 갖고 있기 때문에 사용하지 않는다.
	* 항상 마스터 계정이 있고, 사용자 계정이 있다.
		* 연습용 계정 hr을 만든다.
* 세부정보에서는 어떤 db에 접속할 것인지를 작성
* SID : 건들지 않은 진짜 이름, 원본데이터 xe의 이름
* 서비스 이름 : 데이터베이스의 별칭
	* 처음에 별칭을 줬는데 그게 XEPDB1이었다
* 테스트 누르면 상태: 성공으로 바뀜
* SQL 문서는 그냥 메모장에 저장해두는 게 편하다
* 관계형 데이터베이스 : 여러 테이블이 서로 관계를 갖고 있는 것

### 접속은 항상 조심!!!!
* 회사 가면 회사 ip주소, port number, SID, 계정을 줄 것
* 이 값들만 수정해서 접속하면 된다

## 데이터베이스 용어 (CLUD)
* 크게 세가지(DML, DDL, DCL)와 TCL
* 스키마 : 테이블의 정보

### DML ( Data Manipulation Language)
#### SELECT : DB로부터 데이터 검색(조회)
#### INSERT, UPDATE, DELETE
* DB 테이블에서 새로운 행을 입력(INSERT)하고, 기존의 행을 변경(UPDATE)하고, 기존의 행을 제거(DELETE)한다.
### DDL (Data Definition Language)
#### CREATE, ALTER, DROP, RENAME, TRUNCATE
* 테이블로부터 데이터 구조를 생성(CREATE), 변경(ALTER), 제거(DROP)한다.
* 이름을 변경(RENAME)하거나 구조만 남기고 모든 데이터를 삭제(TRUNCATE)하기도 한다
### TCL (Transaction Control Language)
#### COMMIT, ROLLBACK, SAVEPOINT
* DML 명령문으로 만든 변경을 관리한다
* 데이터 변경은 논리적 트랜잭션으로 함께 그룹화될 수 있다
### DCL (Data Control Language)
#### GRANT, REVOKE
* DB에 접근하고 객체를 사용할 수 있도록 권한을 주거나 회수한다.

## DML - SELECT 문장
* DB로부터 데이터 검색(조회), **행 조회**를 한다
* 기본 틀 : SELECT ~ FROM table;
	* SELECT : 하나 이상의 열을 나열
	* DISTINCT : 중복 제거
	* * : 모든 열을 선택
	* column(= filed) : 열 선택
	* AS : 열 별칭(alias) 지정, 선택된 열을 다른 이름으로 변경
		* 공백이나 특수문자를 포함하고 있으면 쌍따옴표에 넣어 사용해야한다
	* FROM table : 열을 포함하는 테이블 명시
* select 절에는 문자 표현식이나 숫자가 포함된다
	* 날짜나 문자는 홑따옴표에 넣어 사용하고 숫자는 그냥 사용한다
	* ||로 값을 연결할 수 있다
* 기본적으로 중복을 모두 포함해서 출력되기 때문에 **distinct**를 사용해 중복 행을 제거한다

* 기본 문법
	* sql 문법은 대소문자를 구분하지 않는다
	* 키워드는 단축하거나 줄을 나눠쓸 수 없다
	* 데이터베이스의 타입은 크게 세가지 : 문자, 숫자, 날짜
		* 문자, 날짜는 왼쪽 정렬
		* 숫자는 오른쪽 정렬
	* 디폴트 열은 대문자로 출력
	* null은 이용할 수 없거나 / 지정되지 않았거나 / 알 수 없거나 / 적용할 수 없는 값
		* 숫자 0이나 공백과 다른 값
	* 숫자, 문자 모두 null이라고 표현된다

* ROWID : 데이터베이스에서 행의 주소를 반환
	* AAAEAbAAEAAAADNAAA 같은 형식
		* AAAEAb.AAE.AAAADN.AAA
		* 처음 6자리(AAAEAb) : 데이터 오브젝트 번호
		* 다음 3자리(AAE) : 상대적 파일 번호
		* 다음 6자리(AAAADN) : 블록 번호
		* 다음 3자리(AAA) : 블록 내 행 번호
* **ROWNUM** : 쿼리에 의해 반환되는 **행의 번호(출력 순서)** 출력 (아주 중요!)
	* PK가 없는 테이블에서 PK를 대신할 수 있다
	* PK가 있을 때와 없을 때 출력순서가 다르다
	* PK가 있으면 조회가 빠르다

### 데이터 제한 - WHERE절
* 조건을 만족하는 행으로 질의를 제한한다
* 문자와 날짜 값은 홑따옴표 안에 담는다
* 문자 값은 대소문자를 구분하고, 날짜 값은 날짜 형식을 구분한다
	* 날짜 표현 형식은 세기, 연, 월, 일, 시간, 분, 초 순으로 저장
* 같지 않다는 <>
* between 연산자 : 값의 범위에 해당하는 행을 출력
	* 작은 값을 먼저 입력
	* salary between 10000 and 12000; = 10000 <**=** salary <**=** 12000
* **in 연산자** : 목록에 있는 값 비교
	* 형식 ex) manager_id in(101, 102, 103)
* **like 연산자** : 검색할 때 사용
	* % : 문자가 없거나 하나 이상
	* _ : 하나의 문자, 문자의 위치
	* 형식 ex) job_id like 'IT%'
* null은 비교연산자로 찾을 수 없고, **is null, ** 연산자로 테스트한다
* 논리 연산자
* and 연산자가 or 연산자보자 연산자 우선순위가 높다 = and가 더 빨리 계산된다
### 데이터 정렬
* 검색되는 행을 정렬
* order by : select 문의 가장 뒤에 온다, 가장 나중에 실행된다
* asc : 오름차순 정렬 / desc : 내림차순 정렬
* 열 별칭을 사용할 수 있다

#### DESC (테이블이름); - 테이블 정보를 보는 키워드